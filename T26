-- LocalScript gắn vào StarterGui

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local player = Players.LocalPlayer

local function getCharacter()
    return player.Character or player.CharacterAdded:Wait()
end

-- ID asset
local tool1Id = 16458315457 -- xuất hiện dưới chân
local tool2Id = 65288880    -- quay vòng quanh

-- Tạo GUI
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "ToolGui"
screenGui.ResetOnSpawn = false
screenGui.Parent = player:WaitForChild("PlayerGui")

local button = Instance.new("TextButton")
button.Size = UDim2.new(0, 150, 0, 50)
button.Position = UDim2.new(1, -170, 0, 20)
button.Text = "Bật Tool"
button.BackgroundColor3 = Color3.fromRGB(0, 170, 255)
button.TextColor3 = Color3.new(1,1,1)
button.Parent = screenGui

-- Hàm spawn asset
local function spawnAsset(id)
    local success, obj = pcall(function()
        return game:GetObjects("rbxassetid://"..id)[1]
    end)
    if success and obj then
        obj.Parent = workspace
        return obj
    else
        warn("Không tải được asset ID:", id)
        return nil
    end
end

-- Nhấn nút
button.MouseButton1Click:Connect(function()
    local character = getCharacter()
    local hrp = character:WaitForChild("HumanoidRootPart")

    -- Tool 1 dưới chân
    local tool1 = spawnAsset(tool1Id)
    if tool1 then
        tool1.CFrame = hrp.CFrame * CFrame.new(0, -3, 0)
    end

    -- Tool 2 quay vòng quanh
    local tool2 = spawnAsset(tool2Id)
    if tool2 then
        local angle = 0
        local radius = 3
        RunService.RenderStepped:Connect(function()
            if tool2.Parent and hrp.Parent then
                angle = angle + math.rad(2) -- tốc độ quay
                local offset = Vector3.new(math.cos(angle)*radius, 0, math.sin(angle)*radius)
                tool2.CFrame = hrp.CFrame + offset
            end
        end)
    end

    button.Text = "Tool đã bật!"
    button.Active = false
    button.AutoButtonColor = false
end)

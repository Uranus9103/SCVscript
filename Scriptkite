local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local TeleportService = game:GetService("TeleportService")
local HttpService = game:GetService("HttpService")
local player = Players.LocalPlayer

-- GUI
local gui = player:WaitForChild("PlayerGui"):FindFirstChild("LiftGui")
if not gui then
	gui = Instance.new("ScreenGui")
	gui.Name = "LiftGui"
	gui.ResetOnSpawn = false 
	gui.Parent = player:WaitForChild("PlayerGui")
end

-- Khung menu gi·ªëng ƒëi·ªán tho·∫°i
local frame = Instance.new("Frame")
frame.Size = UDim2.new(0,260,0,300)
frame.Position = UDim2.new(0.05,0,0.1,0)
frame.BackgroundColor3 = Color3.fromRGB(40,40,40)
frame.Active = true
frame.Parent = gui

local frameCorner = Instance.new("UICorner")
frameCorner.CornerRadius = UDim.new(0,20)
frameCorner.Parent = frame

-- T·∫°o dragHandle ƒë·ªÉ k√©o b·∫£ng
local dragHandle = Instance.new("Frame")
dragHandle.Size = UDim2.new(1,0,0,30)
dragHandle.Position = UDim2.new(0,0,0,0)
dragHandle.BackgroundColor3 = Color3.fromRGB(60,60,60)
dragHandle.Parent = frame

local handleCorner = Instance.new("UICorner")
handleCorner.CornerRadius = UDim.new(0,15)
handleCorner.Parent = dragHandle

-- ScrollFrame ch·ª©a n√∫t
local scroll = Instance.new("ScrollingFrame")
scroll.Size = UDim2.new(1, -10, 1, -35)
scroll.Position = UDim2.new(0,5,0,35)
scroll.BackgroundTransparency = 1
scroll.BorderSizePixel = 0
scroll.CanvasSize = UDim2.new(0,0,0,0)
scroll.ScrollBarThickness = 10
scroll.Parent = frame

-- Layout 2 c·ªôt
local layout = Instance.new("UIGridLayout")
layout.CellSize = UDim2.new(0.45,0,0,50)
layout.CellPadding = UDim2.new(0.05,0,0.05,0)
layout.FillDirection = Enum.FillDirection.Horizontal
layout.SortOrder = Enum.SortOrder.LayoutOrder
layout.HorizontalAlignment = Enum.HorizontalAlignment.Center
layout.VerticalAlignment = Enum.VerticalAlignment.Top
layout.Parent = scroll

layout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
	scroll.CanvasSize = UDim2.new(0,0,0,layout.AbsoluteContentSize.Y + 10)
end)

-- H√†m t·∫°o n√∫t
local function createButton(text, color)
	local btn = Instance.new("TextButton")
	btn.Size = UDim2.new(0,0,0,0)
	btn.Text = text
	btn.TextScaled = true
	btn.BackgroundColor3 = color
	btn.TextColor3 = Color3.fromRGB(255,255,255)
	btn.Font = Enum.Font.GothamBold
	btn.Parent = scroll

	local corner = Instance.new("UICorner")
	corner.CornerRadius = UDim.new(0,12)
	corner.Parent = btn

	return btn
end

-- N√∫t ·∫®n/Hi·ªán Menu
local toggleBtn = Instance.new("TextButton")
toggleBtn.Size = UDim2.new(0,100,0,40)
toggleBtn.Position = UDim2.new(0.75,0,0.05,0)
toggleBtn.BackgroundColor3 = Color3.fromRGB(80,80,200)
toggleBtn.Text = "APEX HUB"
toggleBtn.TextScaled = true
toggleBtn.TextColor3 = Color3.fromRGB(255,255,255)
toggleBtn.Font = Enum.Font.GothamBold
toggleBtn.Parent = gui
toggleBtn.Active = true
toggleBtn.Draggable = true

local btnCorner = Instance.new("UICorner")
btnCorner.CornerRadius = UDim.new(0,8)
btnCorner.Parent = toggleBtn

local menuVisible = true
toggleBtn.MouseButton1Click:Connect(function()
	menuVisible = not menuVisible
	frame.Visible = menuVisible
end)

-- C√°c n√∫t
local btnLift   = createButton("‚¨ÜÔ∏è Lift : OFF", Color3.fromRGB(200,50,50))
local btnFly    = createButton("üõë ƒêi Tr√™n Kh√¥ng : OFF", Color3.fromRGB(200,50,50))
local btnESP    = createButton("üëÄ ESP OFF", Color3.fromRGB(200,50,50))
local btnWarn   = createButton("üë§ Warning : OFF", Color3.fromRGB(200,50,50))
local btnJump   = createButton("üü¢ JumpPower : OFF", Color3.fromRGB(200,50,50))
local btnServer = createButton("üåç ƒê·ªïi Server", Color3.fromRGB(80,150,250))
local btnShader = createButton("‚ú® Shader & Fix Lag : OFF", Color3.fromRGB(200,50,50))
local btnEsp2   = createButton("ESP v2 & Hitbox", Color3.fromRGB(255,140,0))
local btnLockBase = createButton("üîí Kho√° Base", Color3.fromRGB(180,100,250))

-- ==========================================
-- K√©o b·∫£ng m∆∞·ª£t m√† v·ªõi dragHandle
-- ==========================================
local dragging = false
local dragInput, mousePos, framePos

local function update(input)
	local delta = input.Position - mousePos
	frame.Position = UDim2.new(
		framePos.X.Scale,
		framePos.X.Offset + delta.X,
		framePos.Y.Scale,
		framePos.Y.Offset + delta.Y
	)
end

dragHandle.InputBegan:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 then
		dragging = true
		dragInput = input
		mousePos = input.Position
		framePos = frame.Position

		input.Changed:Connect(function()
			if input.UserInputState == Enum.UserInputState.End then
				dragging = false
			end
		end)
	end
end)

dragHandle.InputChanged:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseMovement then
		dragInput = input
	end
end)

RunService.RenderStepped:Connect(function()
	if dragging and dragInput then
		update(dragInput)
	end
end)

-- ==========================================
-- Ph·∫ßn c√°c n√∫t ch·ª©c nƒÉng: Lift, Fly, ESP, Warning, JumpPower, ƒê·ªïi Server, Shader, ESP v2 & Hitbox, Kho√° Base
-- ==========================================
-- B·∫°n c√≥ th·ªÉ copy nguy√™n ph·∫ßn code c≈© m√¨nh g·ª≠i tr∆∞·ªõc ƒë√≥
-- Lift, Fly, ESP, Warning, JumpPower, Server, Shader, ESPv2, Lock Base, Anti Kick
-- Ch·ªâ c·∫ßn th√™m ph·∫ßn dragHandle ƒë·ªÉ k√©o b·∫£ng

